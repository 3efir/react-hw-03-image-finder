(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{22:function(e,t,a){e.exports=a(75)},27:function(e,t,a){},29:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=(a(27),a(7)),s=a.n(i),l=a(8),u=a(9),m=a(3),h=a(4),d=a(6),p=a(5),g=(a(29),a(20)),f=a.n(g),b={apiKey:"18407049-d2d256100581463c50b4ee46b",apiLink:"https://pixabay.com/api/",perPage:12},v=function(e,t){return f.a.get(b.apiLink,{params:{q:e,page:t,key:b.apiKey,image_type:"photo",orientation:"horizontal",per_page:b.perPage}}).then((function(e){return e.data}))},S=(a(47),a(48),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchText:""},e.handleSearchFormSubmit=function(t){t.preventDefault(),e.props.onSearchFormSubmit(e.state.searchText)},e.handleInputChange=function(t){e.setState({searchText:t.target.value})},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSearchFormSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchText,onChange:this.handleInputChange}))}}]),a}(n.Component)),y=function(e){var t=e.onSearchFormSubmit;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement(S,{onSearchFormSubmit:t}))},w=(a(49),a(50),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleImageClick=function(){e.props.onSelectImage(e.props.id)},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:this.props.webformatURL,alt:this.props.alt,className:"ImageGalleryItem-image",onClick:this.handleImageClick}))}}]),a}(n.Component)),E=function(e){var t=e.images,a=e.onSelectImage;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(w,{key:e.id,webformatURL:e.webformatURL,alt:e.tags,id:e.id,onSelectImage:a})})))},k=(a(51),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleCloseModal=function(t){console.log(t.code),"Escape"===t.code&&e.props.onClose()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseModal)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Overlay",onClick:this.props.onClose},r.a.createElement("div",{className:"Modal"},this.props.children))}}]),a}(n.Component)),I=(a(52),function(e){var t=e.onLoadMore;return r.a.createElement("div",{className:"Button-wrapper"},r.a.createElement("button",{className:"Button",onClick:t},"Load More"))}),O=a(21),j=a.n(O),C=(a(74),function(){return r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement(j.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:0}))}),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",images:[],totalPages:0,showModal:!1,selectedImage:{},currentPage:1,isLoading:!1},e.handleSearchFormSubmit=function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],e.setState({isLoading:!0}),!a){t.next=6;break}return t.next=5,v(a,e.state.currentPage);case 5:n=t.sent;case 6:e.setState({searchText:a,images:Object(l.a)(n.hits),totalPages:Math.ceil(n.totalHits/b.perPage),currentPage:1,isLoading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectImage=function(t){var a=e.state.images.find((function(e){return e.id===t}));e.setState({showModal:!0,selectedImage:a})},e.handleCloseModal=function(){e.setState({showModal:!1,selectedImage:{}})},e.handleLoadMore=Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,v(e.state.searchText,e.state.currentPage+1);case 3:a=t.sent,e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(a.hits)),currentPage:e.currentPage+1,isLoading:!1}}));case 5:case"end":return t.stop()}}),t)}))),e.loadMoreSection=function(){return e.state.isLoading?r.a.createElement(C,null):e.state.images.length>0&&e.state.totalPages>e.state.currentPage?r.a.createElement(I,{onLoadMore:e.handleLoadMore}):void 0},e}return Object(h.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(){return document.documentElement.scrollHeight}},{key:"componentDidUpdate",value:function(e,t,a){t.images.length>0&&(window.scrollTo({top:a,behavior:"instant"}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{onSearchFormSubmit:this.handleSearchFormSubmit}),r.a.createElement(E,{images:this.state.images,onSelectImage:this.handleSelectImage}),this.loadMoreSection(),this.state.showModal&&r.a.createElement(k,{onClose:this.handleCloseModal},r.a.createElement("img",{src:this.state.selectedImage.largeImageURL,alt:this.state.selectedImage.tags})))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.9f6dc577.chunk.js.map